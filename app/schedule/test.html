<html lang="zh-cn" slick-uniqueid="3">

<head>
    <script async="" src="http://a.jyeoo.com/js?sb=21&amp;pt=JF&amp;cb=adCallback&amp;ps=11"></script>
    <script async="" src="http://a.jyeoo.com/js?sb=21&amp;pt=H6&amp;cb=adCallback&amp;ps=11"></script>
    <script async="" src="http://a.jyeoo.com/js?sb=21&amp;pt=IL&amp;cb=adCallback&amp;ps=11"></script>
    <script async="" src="http://a.jyeoo.com/js?sb=21&amp;pt=9L&amp;cb=adCallback&amp;ps=11"></script>
    <script type="text/javascript" async="" charset="utf-8"
        src="http://c.cnzz.com/core.php?web_id=2018550&amp;t=z"></script>
    <script async="" src="http://a.jyeoo.com/js?sb=0&amp;pt=&amp;cb=&amp;ps=17"></script>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <title>测试</title>
    <meta name="keywords" content="章节挑题 - 初中物理">
    <meta itemprop="name" content="章节挑题 - 初中物理 - 菁优网">
    <meta itemprop="image" content="http://img.jyeoo.net/images/root/home-logo.png">
    <meta name="description" itemprop="description" content="全国各地百位名师真情奉献，按照新课标理念精心解析超过十万个初中数学题目，每个题目均配有详细的分析、解答与点评">

    <meta name="copyright" content="www.jyeoo.com">

    <link href="http://img.jyeoo.net/favicon.ico" rel="shortcut icon">
    <link href="http://img.jyeoo.net/jye-root-3.0.css?v=2019.7.16" rel="stylesheet" type="text/css">
    <link href="http://img.jyeoo.net/images/formula/style.css?v=2019.5.8" rel="stylesheet" type="text/css">

    <style type="text/css">
        fieldset a:visited {
            color: #4f3798;
        }

        .rp15 {
            padding-right: 15px;
        }

        .point-video {
            display: inline-block;
        }

        .more-report:hover .more-report-list {
            visibility: visible;
            opacity: 1;
        }

        .more-report-list {
            opacity: 0;
        }
    </style>


    <script type="text/javascript">
        //事件统计
        var _czc = _czc || [];
        _czc.push(["_setAccount", "2018550"]);
    </script>


    <script type="text/javascript">
        //事件统计
        var _czc = _czc || [];
        _czc.push(["_setAccount", "2018550"]);

        /**/</script>
</head>

<body oncontextmenu="return false" oncopy="htmlStopCopy()">
    <script type="text/javascript" src="http://img.jyeoo.net/scripts/jquery1.7.2.js?v=20181112"></script>
    <script type="text/javascript" src="http://img.jyeoo.net/scripts/jquery/jquery.unobtrusive-ajax.min.js"></script>
    <script type="text/javascript" src="http://img.jyeoo.net/scripts/jye.min.js?v=20190423"></script>
    <script
        type="text/javascript">var imageRootUrl = "http://img.jyeoo.net/", wwwRootUrl = "http://www.jyeoo.com/", blogRootUrl = "http://blog.jyeoo.com/", spaceRootUrl = "http://space.jyeoo.com/", loginUrl = "http://www.jyeoo.com/", logoutUrl = "http://www.jyeoo.com/account/logoff", scriptsUrl = "http://img.jyeoo.net/scripts/", isMobile = false; var mustyleAttr = { color: "#000000", fontsize: "13px", fontfamily: "arial", displaystyle: "true" }; document.domain = "jyeoo.com"; jyeoo.setUser('41a8ac4e-df84-469e-a370-631ee9b2eb40', '28206949', '18611978681', '18611978681', 'True'); $.ajaxSetup({ cache: true });</script>
    <script type="text/javascript" src="http://img.jyeoo.net/scripts/MLCore.min.js?v=2017-12-14"></script>
    <script type="text/javascript" src="http://www.jyeoo.com/content/scripts/tinyedit/core.js?v=20140703"></script>
    <script type="text/javascript" src="http://img.jyeoo.net/scripts/jplugins-2012.03.16.min.js"></script>




    <style type="text/css">
        .RG_NAME {
            height: 1em;
            width: 3em;
            overflow: hidden;
            display: inline-block;
            line-height: 1em;
        }

        .bread-r {
            position: absolute;
            left: 56%;
            padding: 20px;
        }

        .bread-r a {
            display: inline-block;
            height: 24px;
            line-height: 24px;
            color: #666;
            background-color: #fff;
            border: 1px solid #dadada;
            border-radius: 12px;
            min-width: 80px;
            text-align: center;
            margin-left: 12px;
        }

        .buy-txt {
            position: relative;
        }

        .buy-txt img {
            position: absolute;
            left: 0;
            top: -10px;
        }

        .nav-right {
            position: relative;
        }

        .nav-right .top-tip,
        .bottom-tip {
            position: absolute;
            width: 430px;
            font-size: 12px;
            color: #666;
            background-color: #fffdfa;
            border: 1px solid #dadada;
            top: -39px;
            left: -244px;
            padding-left: 10px;
            border-radius: 5px;
            height: 30px;
            line-height: 30px;
        }

        .nav-right .top-tip .triangle,
        .bottom-tip .triangle {
            position: absolute;
            top: 31px;
            width: 0;
            height: 0;
            border: 7px solid transparent;
            border-top-color: #d9d9d9;
            left: 78%;
        }

        .nav-right .top-tip .triangle i,
        .bottom-tip .triangle i {
            position: absolute;
            width: 0;
            height: 0;
            border: 6px solid transparent;
            border-top-color: #fffdfa;
            top: -8px;
            left: -6px;
        }

        .bottom-tip {
            top: 40px;
            right: 0;
            z-index: 23;
            width: 130px;
            left: 55px;
        }

        .bottom-tip .triangle {
            border-bottom-color: #d9d9d9;
            border-top-color: transparent;
            top: -14px;
        }

        .bottom-tip .triangle i {
            border-bottom-color: #fffdfa;
            border-top-color: transparent;
            top: -5px;
        }
    </style>



    <script type="text/javascript">
        //level：1、精确到省级，2、精确到市；
        $.fn.initLBS = function (level, callback) {
            $(this).each(function (index, element) {
                var self = $(this).append("<span><label class='RG_NAME'>[地区]</label></span>"), no = self.data("no"), label = $('label.RG_NAME', self), pop = $("<div class=\"tip-pop\"></div>").appendTo(self);
                var province = $("<dl class=\"province\"><dt class=\"ads-head\">省份：</dt><dd></dd></dl>").appendTo(pop), province_dd = $("dd", province);
                var city = $("<dl class=\"city2\"> <dt>选择市/区：</dt><dd></dd></dl>").appendTo(pop), city_dd = $("dd", city);
                self.hover(function () { province.show(); city.hide(); no = self.data("no"); $("a.active", province).removeClass("active") }, function () { province.hide(); city.hide(); });

                $.post("/api/area1", {}, function (data) {
                    if (data.S == 1) {
                        return true;
                    }
                    $("<a href=\"javascript:void(0)\" data-no=\"0\">全部</a>").appendTo(province_dd);
                    for (var i = 0; i < data.D.length; i++) {
                        if (data.D[i].ID == "1000000") {
                            if (level == "1") {
                                data.D[i].Name += "卷";
                            } else {
                                continue;
                            }
                        }
                        $("<a  href=\"javascript:void(0)\" data-no=" + data.D[i].ID + "  data-type=" + data.D[i].Type + ">" + data.D[i].Name + "</a>").appendTo(province_dd);
                        if (no == data.D[i].ID) {
                            label.html(data.D[i].Name);
                        }
                    }

                    $.post("/api/area2", { code: no }, function (data) {
                        if (data.S == 1) {
                            return true;
                        }
                        for (var i = 0; i < data.D.length; i++) {
                            if (no == data.D[i].ID) {
                                label.html(data.D[i].Name);
                            }
                        }
                    });

                    province.find("a").each(function () {
                        var p = $(this);
                        p.click(function () {
                            $("a.active", province).removeClass("active"); p.addClass("active");
                            if ($(this).data("type") == "-1") {
                                cLBS($(this));
                            }
                            else {
                                pLBS(p);
                            }
                        });
                    });
                });

                function pLBS(el) {
                    var el = $(el), pno = el.data("no");
                    if (level == "1" || pno == "") {
                        cLBS(el);
                    }
                    else {
                        $.post("/api/area2", { code: pno }, function (data) {
                            if (data.S == 1) {
                                return true;
                            }
                            city.show();
                            city_dd.empty();
                            $("<a href=\"javascript:void(0)\" data-no=" + pno + ">全省</a>").appendTo(city_dd);
                            for (var i = 0; i < data.D.length; i++) {
                                $("<a  href=\"javascript:void(0)\" data-no=" + data.D[i].ID + ">" + data.D[i].Name + "</a>").appendTo(city_dd);
                                if (no == data.D[i].ID) {
                                    label.html(data.D[i].Name);
                                }
                            }
                            city_dd.find("a").each(function () {
                                var c = $(this);
                                c.click(function () {
                                    if (pno == c.data("no")) {
                                        cLBS(el);
                                    }
                                    else {
                                        cLBS(c);
                                    }
                                });
                            });
                        });
                    }
                }

                function cLBS(el) {
                    var el = $(el), cno = el.data("no");
                    callLBS(cno, el.html());
                }

                function callLBS(code, text) {
                    self.data("no", code);
                    label.html(code == '' ? "地区" : text).attr("title", text);
                    province.hide();
                    city.hide();
                    city_dd.empty();
                    if ($.isFunction(callback) && code != no) {
                        callback(code, text);
                    }
                }
            });
        }

    </script>
    <script type="text/javascript">
        $(function () {
            /*tab点击切换*/
            $.fn.myTab = function (options) {//将对象作为参数传进去
                var defult = {
                    changeCont: "",     //tab内容切换标签
                    index: null,        //显示项
                    tabType: "li",      //tab切换标签
                    changeType: "div",   //tab内容切换标签
                };
                var setting = $.extend({}, defult, options);//extend方法合并两个对象，如果两个对象有相同属性，则后面的那个对象的属性覆盖前面那个对象的属性。
                $(this).find(setting.tabType).on("click", function () {
                    var $this = $(this);
                    var $index = $this.index();
                    $this.addClass("active").siblings().removeClass("active");
                    $(setting.changeCont).children(setting.changeType).eq($index).show().siblings().hide();//切换标签对应的内容

                })
                //判断进入页面显示那个标签样式和内容
                if (setting.index == null) {
                    $(this).find(setting.tabType).eq(0).click();
                } else {
                    $(this).find(setting.tabType).eq(options.index).click();
                }
            };


            //调用
            $(".tl-tab").myTab({
                changeCont: ".tl-tab-cont",
                tabType: "a",
                changeType: "div",
            });
        });
    </script>
    <div class="clear"></div>
    <div class="content" style="min-height: 690px;">
        <div class="wrapper clearfix">

            <div id="ja017"></div>
            <script type="text/javascript">
                $(function () {
                    $.getScript("http://a.jyeoo.com/js?sb=0&pt=&cb=&ps=17");
                })
            </script>

            <div class="cleft">

            </div>
            <div class="cmiddle">


                <div class="c15"></div>
                <div id="pageArea">
                    <div class="mid-content">
                        <ul class="ques-list list-box">








                            



                        </ul>
                    </div>

                </div>
            </div>
            <div id="divRight" class="cright" style="left: 0px;">

                <style type="text/css">
                    .barBox {
                        position: absolute;
                        top: -292px;
                        left: -620px;
                        width: 600px;
                        height: 400px;
                        background-color: rgb(255, 255, 255);
                        border: 1px solid #c6c5c1;
                        border-radius: 10px;
                    }

                    .barBox .btn-close {
                        position: absolute;
                        width: 16px;
                        height: 16px;
                        line-height: 14px;
                        border-radius: 50%;
                        border: 1px solid #919293;
                        right: 10px;
                        top: 10px;
                        text-align: center;
                        cursor: pointer;
                        z-index: 99;
                    }

                    .chart-box {
                        height: 400px;
                        width: 200px;
                        left: -202px;
                    }
                </style>



                <script type="text/javascript">
                    function loadChart1() {
                        var myChart1 = echarts.init(document.getElementById('chartPie'));
                        var option1 = {
                            color: [
                                '#1579e5', '#74b7ff', '#aad3ff'
                            ],
                            legend: {
                                orient: 'vertical',
                                x: 'center',
                                y: 'bottom',
                                selectedMode: false,
                                //data: ['选择题', '填空题', '解答题'],
                                data: [],
                                formatter: function (name) {
                                    return name
                                }
                            },
                            calculable: false,
                            series: [
                                {
                                    type: 'pie',
                                    radius: '55%',
                                    center: ['50%', '35%'],
                                    data: [],
                                    itemStyle: {
                                        normal: {
                                            label: {
                                                position: 'inner',
                                                formatter: function (params) {
                                                    return (params.percent - 0).toFixed(0) + '%'
                                                }
                                            },
                                            labelLine: {
                                                show: false
                                            }
                                        },
                                        emphasis: {
                                            label: {
                                                show: true,
                                                textStyle: {
                                                    fontSize: '12'
                                                }
                                            }
                                        }
                                    }

                                }
                            ]
                        };
                        option1.legend.data = ["选择题(0)", "填空题(0)", "解答题(0)"]
                        option1.series[0].data = [{ "value": 0, "name": "选择题(0)" }, { "value": 0, "name": "填空题(0)" }, { "value": 0, "name": "解答题(0)" }]
                        myChart1.setOption(option1);
                    }
                </script>
                <script type="text/javascript">
                    function loadChart2() {
                        var myChart2 = echarts.init(document.getElementById('chartBar'));
                        var option2 = {
                            calculable: false,
                            grid: {   //绘图区调整
                                x: 10,  //左留白
                                y: 30,   //上留白
                                x2: 10,  //右留白
                                y2: 30,   //下留白
                                borderWidth: 0
                            },
                            tooltip: {
                                showContent: false
                            },
                            xAxis: [
                                {
                                    type: 'category',
                                    data: ['难', '较难', '中档', '较易', '易'],
                                    splitLine: {
                                        show: false
                                    },
                                    axisTick: [{    //坐标轴小标记
                                        show: false
                                    }],
                                    axisLine: {
                                        lineStyle: {
                                            type: 'solid',
                                            color: '#dadada',//左边线的颜色
                                            width: '2'//坐标线的宽度
                                        }
                                    },
                                    axisLabel: {
                                        formatter: function (val) {
                                            if (val.length > 3) return val.substring(0, 3) + "...";
                                            else return val;
                                        },
                                        textStyle: {
                                            color: '#333333'
                                        }
                                    }
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'value',
                                    show: false
                                }
                            ],
                            series: [
                                {
                                    name: '',
                                    type: 'bar',
                                    data: [],
                                    barWidth: 20,  //柱宽度
                                    itemStyle: {
                                        normal: {    //柱状图颜色
                                            color: '#3194ff',
                                            label: {
                                                show: true,   //显示文本
                                                position: 'top',  //数据值位置
                                                textStyle: {
                                                    color: '#000',
                                                    fontSize: '12',
                                                    fontFamily: '微软雅黑'
                                                }
                                            }
                                        }
                                    }
                                }

                            ]
                        };
                        option2.series[0].data = [0, 0, 0, 0, 0]
                        myChart2.setOption(option2);
                    }
                </script>

                <script type="text/javascript">
                    var subject = "physics", ids = [], isEmpty = "1";
                    $(function () {
                        $(".quesborder,.JYE_MATH_SELECTOR").each(function () {
                            try { renderLatex(this); } catch (e) { }
                        });
                        initCart();
                        if (typeof (echarts) == "undefined") {
                            $.getScript("http://img.jyeoo.net/scripts/charts/echarts.v4.min.js").done(function (script, status) {
                                if (status == "success" && typeof (echarts) != "undefined") {
                                    loadCharts();
                                } else {
                                    showMessage("试题篮图表加载失败，请刷新网页重试。", false);
                                }
                            });
                        } else {
                            loadCharts();
                        }
                    });

                    function loadCharts() {
                        loadChart1();
                        loadChart2();
                    }

                    function initCart(holder) {
                        var lis = $(".QUES_LI");
                        if (holder) lis = $(".QUES_LI", $(holder));
                        lis.each(function () {
                            var el = $(this);
                            var fdt = el.find("fieldset:last");
                            var quesID = fdt.attr("id");
                            var subject = fdt.attr("s");
                            var inCart = $.inArray(quesID, ids) != -1;
                            if (inCart) {
                                el.addClass("ques-add");
                                var a = $("a.add", el.find(".fieldtip"));
                                //a.attr("onclick", "removeQuesCart(this,'" + quesID + "')");
                                a.unbind("click").click(function () { removeQuesCart(this, quesID); });
                                a.find("i").removeClass("i-add").addClass("i-subtract");
                            } else {
                                el.removeClass("ques-add");
                                var a = $("a.add", el.find(".fieldtip"));
                                //a.attr("onclick", "addQuesCart(this,'" + quesID + "')");
                                a.unbind("click").click(function () { addQuesCart(this, quesID); });
                                a.find("i").removeClass("i-subtract").addClass("i-add");
                            }
                        });

                        //试题详情特殊处理（加入试题篮按钮放在弹出框footer-bar）
                        var footerBar = $(".box-wrapper").find(".footer-bar");
                        if (footerBar.find("a.add").size() > 0) {
                            var fdt = $(".box-wrapper").find("fieldset:last");
                            var a = footerBar.find("a.add");
                            if (fdt.size() > 0) {
                                var quesID = fdt.attr("id");
                                var inCart = $.inArray(quesID, ids) != -1;
                                if (inCart) {
                                    fdt.closest(".QUES_LI").addClass("ques-add");
                                    a.unbind("click").click(function () { removeQuesCart(this, quesID, 1); });
                                    a.find("i").removeClass("i-add").addClass("i-subtract");
                                } else {
                                    fdt.closest(".QUES_LI").removeClass("ques-add");
                                    a.unbind("click").click(function () { addQuesCart(this, quesID, 1); });
                                    a.find("i").removeClass("i-subtract").addClass("i-add");
                                }
                            }
                        }
                    }

                    function refreshCart() {
                        $("#divRight").load("/" + subject + "/paper/cart?r=" + Math.random());
                    }
                    function addQuesCart(el, id, ftb) {
                        if (!jyeoo.isLogin()) { openLoginUI(); return; }
                        var cart = $(".enter-paper"), cart_set = cart.offset();
                        var add = $(el);
                        var curLi = add.closest(".QUES_LI");
                        if (ftb == 1) {
                            curLi = add.closest(".box-wrapper").find(".QUES_LI");
                        }
                        var curLi_set = curLi.offset();

                        $.post("/" + subject + "/paper/addquescart", { quesID: id, r: Math.random() }, function (data) {
                            if (data.S == 0) {
                                //var newItem = add.closest(".fieldtip").siblings(".quesborder").clone().appendTo(document.body).addClass("newFieldtip").css({ "position": "absolute", "background": "#f4f4f4", "border": "1px solid #ccc", "z-index": "8888" });
                                var newItem = curLi.clone().appendTo(document.body).addClass("newFieldtip").css({ "position": "absolute", "background": "#f4f4f4", "border": "1px solid #ccc", "z-index": "8888" });
                                newItem.css({ "top": curLi_set.top, "left": curLi_set.left, "width": curLi.width(), "height": curLi.height() })
                                    .animate({ "width": cart.width(), "height": cart.height(), "top": cart_set.top, "left": cart_set.left }, 800, function () {
                                        $(this).remove();
                                    });
                                refreshCart();
                            } else {
                                showMessage(data.M, false);
                            }
                        });
                    }
                    function removeQuesCart(el, id, ftb) {
                        if (!jyeoo.isLogin()) { openLoginUI(); return; }
                        var cart = $(".enter-paper"), cart_set = cart.offset();
                        var add = $(el);
                        var curLi = add.closest(".QUES_LI");
                        if (ftb == 1) {
                            curLi = add.closest(".box-wrapper").find(".QUES_LI");
                        }
                        curLi_set = curLi.offset();

                        $.post("/" + subject + "/paper/removequescart", { quesID: id, r: Math.random() }, function (data) {
                            if (data.S == 0) {
                                //var newItem = add.closest(".fieldtip").siblings(".quesborder").clone().appendTo(document.body).addClass("newFieldtip").css({ "position": "absolute", "background": "#f4f4f4", "border": "1px solid #ccc", "z-index": "8888" });
                                var newItem = curLi.clone().appendTo(document.body).addClass("newFieldtip").css({ "position": "absolute", "background": "#f4f4f4", "border": "1px solid #ccc", "z-index": "8888" });
                                newItem.css({ "top": cart_set.top, "left": cart_set.left, "width": cart.width(), "height": cart.height() })
                                    .animate({ "top": curLi_set.top, "left": curLi_set.left, "width": curLi.width(), "height": curLi.height() }, 800, function () {
                                        $(this).remove();
                                    });
                                refreshCart();
                            } else {
                                showMessage(data.M, false);
                            }
                        });
                    }

                    function enterMakePaper(el) {
                        if (isEmpty == "1") {
                            showMessage("当前试题篮为空，不能组卷，请添加试题后再进行组卷。", false);
                            return false;
                        } else {
                            $(el).attr("href", "/physics/paper/make");
                            return true;
                        }
                    }
                </script>

            </div>

        </div>
    </div>


    <div id="divMsg" style="display:none; z-index:6001;"></div>
    <a title="返回顶部" class="return-top" style="right:30px;position:fixed;display:block;bottom:30px;z-index:9999999999"
        href="#"></a>
    <script type="text/javascript">

        $(function () {
            starCheckMessage();
            _checkBrowser();
            remind_check();

            $(".quesborder,.JYE_MATH_SELECTOR").each(function () {
                try { renderLatex(this); } catch (e) { }
            });
        });

        function _checkBrowser() {
            try {
                //ie7提醒
                if (navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion.split(";")[1].replace(/[ ]/g, "") == "MSIE7.0") {
                    $(".brower-tip").show();
                }

                if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {
                    var desc = navigator.mimeTypes['application/x-shockwave-flash'].description.toLowerCase();
                    if (desc.indexOf('adobe') > -1 || navigator.appVersion.indexOf('UBrowser') > -1) {
                        $("#borwserWarning").animate({ "height": "show" });
                        setTimeout(_closeWarning, 2000);
                        return;
                    }
                    var mimeType = navigator.mimeTypes;
                    for (var i = 0; i < mimeType.length; i++) {
                        if (mimeType[i]['type'].indexOf('sogou') > -1) {
                            $("#borwserWarning").animate({ "height": "show" });
                            setTimeout(_closeWarning, 2000);
                            break;
                        }
                    }
                }
            } catch (e) {
                return;
            }
        }
        function _closeWarning() {
            $("#borwserWarning").animate({ "height": "hide" });
        }
        function showConfirm(content, yes, no) {
            var o = openBox({ width: 480, height: 120, title: "【消息确认】" });
            var con = o.getContent().css({ "text-align": "center", "line-height": "30px", "font-family": "微软雅黑", "font-size": "16px", "color": "#7A1313", "padding": "20px 10px" });
            o.setContent("<div style=\"margin-bottom:15px;\">" + content + "</div>");

            if (typeof yes === 'object' && yes !== null && yes.length === 2) {
                $("<input  class=\"btn btn-blue btn-lg\" type=\"button\"/>").css({ "margin": "0 10px" }).val(yes[0]).click(yes[1]).appendTo(con);
            }
            if (typeof no === 'object' && no !== null && no.length === 2) {
                $("<input class=\"btn btn-default btn-lg\" type=\"button\"/>").css({ "margin": "0 10px" }).val(no[0]).click(no[1]).appendTo(con);
            }

            o.getFooterBar().remove();
        }
        function htmlStopCopy() {
            try {
                get_selection().empty();
            } catch (ex) {
                get_selection().removeAllRanges();
            }
            showVipRightTip();
        }


    </script>
    <!--公共方法-->
    <script type="text/javascript">
        function openLoginUI(u, t) {
            $('<div class="box-overlay"></div>').css({ zIndex: 1001, width: '100%', height: $(document).height(), display: 'block' }).appendTo(document.body);
            var box = $("#loginwrap");
            if (box.size() == 0) {
                box = $("<div class=\"loginwrap\" id=\"loginwrap\" style=\"position: fixed; z-index: 1003; top: 50%; margin-top: -270px; left: 50%; margin-left: -360px;\"><div>");
            }
            var pu = typeof (u) != 'undefined' ? encodeURIComponent(u) : '', pt = typeof (t) != 'undefined' ? encodeURIComponent(t) : '';
            var loginUrl = "/api/iframelogin?t=" + pt + '&u=' + pu + "&r=" + Math.random();
            box.appendTo($(document.body)).empty().load(loginUrl);
        }
        function openRegisterUI(id, e, r) {
            $('<div class="box-overlay"></div>').css({ zIndex: 1001, width: '100%', height: $(document).height(), display: 'block' }).appendTo(document.body);
            var box = $("#loginwrap");
            if (box.size() == 0) {
                box = $("<div class=\"loginwrap\" id=\"loginwrap\" style=\"position: fixed; z-index: 1003; top: 50%; margin-top: -270px; left: 50%; margin-left: -360px;\"><div>");
            }
            var pid = typeof (id) != 'undefined' ? encodeURIComponent(id) : '', pe = typeof (e) != 'undefined' ? encodeURIComponent(e) : '',
                pr = typeof (r) != 'undefined' ? encodeURIComponent(r) : '';
            var registerUrl = "/api/iframeregister?id=" + id + "&e=" + pe + "&r=" + pr + "&rm=" + Math.random();
            box.appendTo($(document.body)).empty().load(registerUrl);

        }
        function samePaper(el, subject, key, type) {
            var right = "0";
            if (!jyeoo.isLogin()) { openLoginUI(); return false; }
            if (right == "1") {
                var url = "/" + subject + "/paper/same?rid=" + key + "&rf=" + type;
                $(el).attr("href", "/" + subject + "/paper/sameinit?u=" + encodeURIComponent(url));
                return true;
            } else {
                showVipRightTip();
                return false;
            }
        }
        function showVipRightTip(str) {
            var a = "";
            if (str) a = str;
            var msgBar = $("<div></div>").attr("id", "_message").appendTo("body");
            msgBar.load("/home/viprighttip", { a: a, r: Math.random() }, function () {
                $(this).loaded();
            });
        }
        function enterPaper(el, subject, id) {
            if (!jyeoo.isLogin()) { openLoginUI(); return false; }
            $.post("/" + subject + "/paper/judgepaperright/" + id, {}, function (data) {
                if (data.S == 0) {
                    var url = "/" + subject + "/paper/detail/" + id;
                    $(el).attr("href", url);
                    return true;
                } else {
                    showMessage(data.M, false, false, 460);
                    return false;
                }
            });
        }
        function _propAnswerClick(el) {
            el = $(el);
            if (el.find("i").hasClass("i-eye")) {
                el.html("<i class=\"icon i-hide\"></i>隐藏答案");
                toggleAnswers(true);
            } else {
                el.html("<i class=\"icon i-eye\"></i>显示答案");
                toggleAnswers(false);
            }
        }
        function toggleAnswers(show, el) {
            var holder = $(".ques-list");
            if (el) holder = $(el);
            if (show) { //显示
                $("td.selectoption", holder).each(function (i, e) {
                    var el = $(e);
                    if (el.children("label").hasClass("s")) {
                        el.children("label").removeClass("sh");
                    }
                });
                $("div.quizPutTag", holder).each(function (i, e) {
                    var el = $(e);
                    var tempAnswer = el.prop("Answer");
                    if (tempAnswer) tempAnswer = text2MathML(tempAnswer);
                    el.html(tempAnswer);
                    renderLatex(el[0]);
                });
            } else { //隐藏
                $("td.selectoption", holder).each(function (i, e) {
                    var el = $(e);
                    $(".s", el).addClass("sh");
                });
                $("div.quizPutTag", holder).each(function (i, e) {
                    var el = $(e).prop("Answer", "");
                    el.prop("Answer", el.html()).html("&nbsp;");
                })
            }
        }
        function showMessage(content, b, c, w) {
            hideMessage();
            var width = 400;
            if (w) width = w;
            var left = -(width / 2 + 40);
            var msgBar = $('<div style="width:' + width + 'px;margin-left:' + left + 'px;"><p></p><div><a href="javascript:void(0)" onclick="hideMessage(this)" class="btn btn-blue btn-lg">我知道了</a></div></div>').attr('id', '_message').addClass('msgtip').appendTo('body');
            b = typeof (b) === 'undefined' ? true : b;
            if (b) {
                msgBar.prepend('<h2><i class="icon i-success"></i><span>操作成功</span></h2>');
            } else {
                msgBar.prepend('<h2><i class="icon i-fail"></i><span>操作失败</span></h2>');
            }
            c = typeof (c) == 'undefined' ? true : c;
            msgBar.find('p').html(content).slideDown('slow');
            if (c) {
                g_msgtimeout = window.setTimeout(hideMessage, 5000);
            }
        }
        function hideMessage() {
            $('#_message').slideUp('slow').remove();
            if (g_msgtimeout != null) { window.clearTimeout(g_msgtimeout); g_msgtimeout = null; }
        }
        function openBox(o, u, p, c) {
            var d = { "width": 900, "height": 460, "title": "菁优网", "buttons": {} };
            o = $.extend({}, d, o || {});

            var b = new Box(o);
            var h = b.getContent();
            var f = b.getFooterBar();
            f.find("button").addClass(" fright btn btn-blue btn-lg");

            if (typeof (u) != 'undefined') {
                if (typeof (p) == 'undefined' || p == null || p == {}) {
                    h.empty().loading("CT").load(u, function () {
                        h.loaded();

                        if ($.isFunction(c)) { c(b); }
                    });
                } else {
                    h.empty().loading("CT").load(u, p, function () {
                        h.loaded();

                        if ($.isFunction(c)) { c(b); }
                    });
                }
            }

            return b;
        }

        function showDetail(el, subject, quesID, tp) {
            if (!jyeoo.isLogin()) { openLoginUI(); return; }
            var option = {
                width: "1000", height: "444", draggable: false, title: "试题详情", buttons: { "关闭": function () { } }
            };
            var url = "/" + subject + "/ques/quesanswer";
            var box = openBox(option, url, { id: quesID, tp: tp, r: Math.random() }, function () {
                var boxWrapper = box.getContent().closest(".box-wrapper");
                boxWrapper.css({ "position": "fixed", "top": "50%", "margin-top": "-" + option.height / 2 - 50 + "px" });
            });

            var ftb = box.getInner().find(".footer-bar span:eq(0)");
            ftb.find("button").remove();
            var urlDetail = "http://www.jyeoo.com/" + subject + "/ques/detail/" + quesID;
            if (tp != "1") {
                ftb.append("<a href=\"javascript:void(0)\" class=\"btn btn-orange btn-lg add\"><i class=\"xs-icon i-add\"></i>试题篮</a>");
            }
            ftb.append("<a href=\"" + urlDetail + "\" target=\"_blank\" type=\"button\" class=\"fright btn btn-blue btn-lg\">转入页面式查看</a>");
        }
        function _openComment(el) {
            $(el).next(".error-box").show();
        }
        function _closeComment(el) {
            $(el).closest(".error-box").hide();
        }
        function commentMe() {
            //$(".error-box").find("#tbComment").val("");
            //$(".error-box").hide();
            if ($("#divCorrectQues").size() > 0) {
                closeBox($("#divCorrectQues"));
            }
        }
        function openCorrectQues(el, subject, id) {
            if (!jyeoo.isLogin()) { openLoginUI(); return; }

            var options = { width: 700, height: 240, title: "试题纠错" };

            var box = openBox(options, "/" + subject + "/ques/correctques", { id: id, r: Math.random() });
        }
        function submitCorrectQues(el, subject, id, cb) {
            if (!jyeoo.isLogin()) { openLoginUI(); return; }

            var cqType = 0;
            $("input[name='CQType']:checked").each(function () {
                cqType += parseInt($(this).val());
            });
            if (cqType == 0) {
                showMessage("请先勾选错误类型。", false);
                return;
            }

            var content = $("#CQContent").val();
            if ($.trim(content).length <= 0) {
                showMessage("请输入您的评论内容。", false);
                $("#CQContent").focus();
                return;
            }

            $.post("/" + subject + "/profile/addusercorrectques", {
                id: id,
                a: content,
                b: cqType,
                r: Math.random()
            }, function (data) {
                showMessage(data.M, data.S == 0, data.S != 0);
                if (data.S == 0 && $.isFunction(cb)) {
                    cb(el);
                }
            });
        }

        function openAnalyze(el, subject, id, tp) {
            if (!jyeoo.isLogin()) { openLoginUI(); return; }
            var option = { width: "800", height: "500", draggable: true, title: "试卷分析" };
            var url = "/" + subject + "/paper/analyze";
            var param = { id: id, tp: tp, r: Math.random() };
            if (tp == "4") { //平行组卷
                var groups = _getGroups();
                var a = JSON.stringify(groups);
                param.a = a;
            }
            var box = openBox(option, url, param);
            box.getInner().find(".footer-bar").remove();
        }

        function openConfirm(title, s, id, dt, hw) {
            if (jyeoo.isLogin()) {
                var dcm = $('div.JYE_DCM'), df = 1, da = 1, ds = 1, dm = 7, dmo = 0, dfkey = 'dc_' + dt + '_df', dakey = 'dc_' + dt + '_da', dsKey = 'dc_' + dt + '_ds', dmkey = 'dc_' + dt + '_dm', dmokey = 'dc' + dt + '_dmo';
                if (dcm.size() > 0) {
                    df = $('input[name=df]:checked', dcm).val();

                    if ($('input[name=da]', dcm).size() > 0) {
                        da = $('input[name=da]:checked', dcm).val();
                    }

                    if ($('input[name=ds]', dcm).size() > 0) {
                        ds = $('input[name=ds]:checked', dcm).val();
                    }

                    dm = 0;
                    $('input[name=dm]:checked', dcm).each(function () { dm = dm | parseInt($(this).val(), 10); });

                    dmo = 0;
                    if ($('input[name=dmo]:checked', dcm).size() > 0) {
                        dmo = 1;
                    }

                    $.cookie(dfkey, df);
                    $.cookie(dakey, da);
                    $.cookie(dmkey, dm);
                    $.cookie(dsKey, ds);
                    $.cookie(dmokey, dmo);

                    closeBox();
                } else {
                    var vm = $.cookie(dfkey);
                    if (vm != null && vm.length > 0) { df = vm; }

                    vm = $.cookie(dakey);
                    if (vm != null && vm.length > 0) { da = vm; }

                    vm = $.cookie(dsKey);
                    if (vm != null && vm.length > 0) { ds = vm; }

                    vm = $.cookie(dmkey);
                    if (vm != null && vm.length > 0) { dm = vm; }

                    vm = $.cookie(dmokey);
                    if (vm != null && vm.length > 0) { dmo = vm; }
                }

                var w = 850, h = 500;
                if (dt == 1 || dt == 4 || dt == 7) { h = 492; }

                if (typeof (hw) == "undefined") { hw = ''; }

                var options = { 'width': w, 'height': h, 'title': title };

                var box = openBox(options, '/' + s + '/api/confirm?id=' + encodeURIComponent(id) + '&dt=' + dt + '&df=' + df + '&da=' + da + '&ds=' + ds + '&dm=' + dm + '&dmo=' + dmo + '&hw=' + encodeURIComponent(hw) + '&r=' + Math.random());
                box.getInner().find(".footer-bar").remove();
            } else {
                openLoginUI(window.location.href);
            }
        }

        //相似题/换一题
        function viewSimilar(el, subject, quesID, tp, holder) {
            if (!jyeoo.isLogin()) { openLoginUI(); return; }
            var options = { width: 800, height: 400, title: "【相似题】", buttons: { "关闭": function () { closeBox(this); } } };
            if (tp == 1) {
                options.title = "【换一题】";
                options.buttons = { "确定": function () { saveSimilarChange(el, subject); }, "取消": function () { closeBox(this); } };
            }
            var similarBox = openBox(options);
            similarBox.setContent("<div id='changeQues' class=\"change-ques\"></div>");
            loadSimilarData(quesID, subject, tp, holder);
        }
        function loadSimilarData(quesID, subject, tp, holder) {
            var pi = 1;
            if ($("#pagenum").size() > 0) { pi = $("#pagenum").val(); }
            var dom = $("#changeQues").empty();
            SimilarWaiting();
            $.post("/" + subject + "/ques/relative", { 'id': quesID, 'ecp': _getQuesIDs(holder), 'tp': tp, 'pi': pi, 'r': Math.random() }, function (data) {
                dom.html(data);
            });
        }
        function _getQuesIDs(holder) {
            var lis = $("li.QUES_LI");
            if (holder) lis = $("li.QUES_LI", $(holder));
            var ids = "";
            lis.each(function () {
                ids += $(this).find('fieldset').attr("id") + "|";
            });
            return ids;
        }
        function SimilarWaiting() {
            var a = "<div style=\"text-align: center;margin: 50px;line-height: 50px;\"><div><img src=\"http://img.jyeoo.net/images/root/img-loading.jpg\" /></div><p>菁优正通过题库大数据分析</p><p>请您稍等.......</p></div>";
            $(a).appendTo($("#changeQues"));
        }

        //解决部分题干中的图片宽过大，导致显示不全的问题，设置宽度过大的图片width:100%
        // 参数 int m 当图片宽大于m 设置100%
        function setPictureWith100(m) {
            $(".pt1 img").each(function (i) {
                var img = $(this), _w = typeof (m) != 'undefined' ? m : 625;
                var realWidth;//真实的宽度
                $("<img/>").attr("src", $(img).attr("src")).load(function () {
                    realWidth = this.width;
                    if (realWidth >= _w) {
                        $(img).css("width", "100%").css("height", "auto");
                    }
                });
            });
        }

        //试题已用（当前用户已组卷次数）
        function _setByPapers(subject, ids) {
            $.post("/" + subject + "/api/getuserpaperinfo", { a: JSON.stringify(ids), r: Math.random() }, function (data) {
                if (data.S == 0) {
                    $(data.D).each(function (i, e) {
                        var tip = $("fieldset[id=" + e.Key + "]").next("div.fieldtip").find(".fieldtip-left");
                        var titles = "";
                        $(e.Value).each(function (ii, ee) {
                            titles = titles.length > 0 ? titles + "\r\n" + ee : ee;
                        });
                        tip.append("<span title=\"" + titles + "\">已用：" + e.Value.length + "</span>");
                    });
                }
            });
        }

        //充值vip
        function subPayFor(t, p) {
            if (!jyeoo.isLogin()) { openLoginUI(); return; }

            var url = '/recharge/for';
            var newWin = window.open("/home/jumpwait");
            $.post(url, { t: t, p: p, r: Math.random() }, function (data) {
                if (data) {
                    if (data.S == 0) {
                        newWin.location.href = "/recharge/cashier/" + data.D;
                    }
                    else if (data.S == 2) {
                        newWin.location.href = "/recharge/campus";
                    }
                    else {
                        newWin.close();
                        showMessage(data.M, false);
                    }
                }
            }, "json");
        }

        function callbackFavorite(s, a, t) {
            var fdt = $("#" + a);
            var $a = fdt.closest(".QUES_LI").find(".fieldtip").find("i.i-collect").closest("a");
            if ($a.size() > 0) {
                $a.attr("onclick", "").unbind("click").click(function () {
                    removeFavoriteByRFID(this, s, a, t);
                });
                $a.html("<i class=\"icon i-remove\"></i>移除收藏");
            }
        }

        function feedback() {
            if (!jyeoo.isLogin()) return;

            var option = { width: "540", height: "340", draggable: true, title: "新增建议" };
            var box = openBox(option, "/home/feedback", {}, function () {
                $(this).loaded();
            });
        }
        //下载答题卡
        function downAnswerCard(el, s, id, tp, utp, pgtp) {
            el = $(el);
            var category = "下载答题卡";
            var action = pgtp == 1 ? "组卷中心" : pgtp == 2 ? "组卷详情" : "试卷详情";
            var label = utp == -1 ? "匿名用户" : utp == 1 ? "校园号用户" : utp == 2 ? "VIP用户" : "普通用户";
            var nodeid = el.attr("id");
            _czc.push(['_trackEvent', category, action, label, '', nodeid]);

            if (utp != 1 && utp != 2) {
                showVipRightTip();
                return;
            }

            var options = { "width": 640, "height": 422, "title": "【下载答题卡】", "buttons": {} };
            var box = openBox(options, "/" + s + "/api/answercard", { a: id, b: tp, r: Math.random() });
            var ftb = box.getInner().find(".footer-bar span:eq(0)");
            ftb.find("button").remove();
        }
        //分角色统计
        function addCzcByRole(tp, tt, enm, nm) {
            if (tp == -1) {
                _czc.push(['_trackEvent', tt, enm, '匿名用户', '', nm]);
            } else if (tp == 1) {
                _czc.push(['_trackEvent', tt, enm, 'VIP用户', '', nm]);
            } else if (tp == 2) {
                _czc.push(['_trackEvent', tt, enm, '校园号用户', '', nm]);
            } else {
                _czc.push(['_trackEvent', tt, enm, '普通用户', '', nm]);
            }
        }
        function navSweeperClick(el, tp) {
            addCzcByRole(tp, '导航栏按学生错题挑题', '点击', 'navSweeperSearch');
            return true;
        }
        function navSweeperAutoClick(el, tp) {
            addCzcByRole(tp, '导航栏按学生错题智能推题', '点击', 'navSweeperAuto');
            return true;
        }
        function navUClassClick(el, tp) {
            addCzcByRole(tp, '导航栏我的班级', '点击', 'navUClass');
            return true;
        }
        function __checkMessages() {
            document.body.oncopy = function () {
                if (window.getSelection) {
                    var _msg = document.getSelection() + "";
                    if (_msg.length > 0) {
                        $.getScript("/api/checkmessages?r=" + Math.random());
                    }
                } else {
                    var _msg = document.selection.createRange().text;
                    if (_msg.length > 0) {
                        $.getScript("/api/checkmessages?r=" + Math.random());
                    }
                }
            }
        }
    </script>

    <script type="text/javascript">
        var subject = 'physics', lbs = '';
        var isShowAnswer = true, changeFlag = 1, pageIndex = 1;
        var isfirstload = true;

        var bookID, f = '0', chx = '0', chxtp = '0', vip = 'False' == 'True', xiao = 'False' == 'True';

        var q = '114fe646-2cef-4f13-bff9-ab3a27495ca2~e7a066eb-ec4f-45db-a237-4fe6274f1d69~', ct = 0, dg = 0, fg = 0, po = 0, pd = 1, pi = 1, so = 0, so2 = 0;

        //分装对象，包含方法名，参数名等
        var paraObj = [];
        paraObj.push({ nm: "q", val: q });//考点/章节
        paraObj.push({ nm: "chx", val: chx });//单选/多选
        paraObj.push({ nm: "chxtp", val: chxtp });//多选（交集/并集）
        paraObj.push({ nm: "lbs", val: lbs });//地区
        paraObj.push({ nm: "ct", val: "0" });//题型
        paraObj.push({ nm: "dg", val: "0" });//难度
        paraObj.push({ nm: "fg", val: "0" });//题类
        paraObj.push({ nm: "so", val: "0" });//来源
        paraObj.push({ nm: "so2", val: "0" });//二级来源
        paraObj.push({ nm: "po", val: "0" });//排序规则
        paraObj.push({ nm: "pd", val: "1" });//排序升降
        paraObj.push({ nm: "yr", val: "" });//年份

        $(function () {

            //初始化地区
            $(".nav-address").data("no", lbs).initLBS("2", function (code, text) { _setLBS(code, text); });

            //显示答案
            $("#isAnswer").click(function () {
                var optName = $(this).find("i").hasClass("i-eye") ? "显示" : "隐藏";
                _czc.push(['_trackEvent', "试题列表显示答案", optName, '普通用户', '', 'propAnswer']);

                _propAnswerClick(this);
            });

            //知识点挑题
            if (f == "1") {
                var op = {};
                var cb = "_setQ";
                if (chx == "1") {
                    op = { "checkbox": true, "onlyLeafNode": true, "maxPointCount": 3 };
                    if (chxtp == "1") {
                        op.maxPointCount = 5;
                    }
                }
                $("#divTree2").empty().load("/" + subject + "/ques/partialcategory", {
                    f: f,
                    q: q,
                    op: JSON.stringify(op),
                    cb: cb,
                    r: Math.random()
                }, function () {
                    $(this).loaded();
                    if (chx == "1") _setNode();
                });
            }

            QSearch.init(f, 'physics', '#pageArea', paraObj);

            __checkMessages();
        });

        function _loadTree(el, bkID) {
            var strEdition = $(el).find("dl:eq(0)").find("a.active").html();
            strEdition = strEdition.length > 10 ? strEdition.substr(0, 10) : strEdition;
            $("#spanEdition").html(strEdition + "：");
            $("#spanGrade").html($(el).find("dl:eq(1)").find("a.active").html());
            var url = "/" + subject + "/ques/partialcategory?q=" + encodeURIComponent(q);
            $("#divTree2").empty().loading("CT").load(url, {
                a: bkID,
                f: f,
                cb: "_setQ",
                r: Math.random()
            }, function () {
                $(this).loaded();
            });

        }

        //考点
        function _setQ(q) {
            //paraObj[0].val = q;
            //if (changeFlag == 1) { _loadList(); }
            //else { loadPage(); }
            QSearch.param[0].val = q;
            if (changeFlag == 1) { QSearch.loadList(); }
            else { QSearch.loadPage(); }
        }
        function _setNode() {
            var strNodes = $.cookie("j_" + subject + "_q_pnos_" + chxtp);
            if (strNodes) {
                var nodes = strNodes.split(",");
                $.each(nodes, function (i, rec) {
                    $(".divCategory").find("a[pk='" + rec + "']").prev("input[type=checkbox]").click();
                });
            }
            _loadListChx();
        }
        function _clearClick(el) {
            el = $(el);
            var pk = el.closest("span").attr("pk");
            el.closest("span").remove();
            $(".divCategory").find("a[pk='" + pk + "']").prev("input[type=checkbox]").click();
        }
        function _clearAllNode() {
            $(".divCategory").find("input[type=checkbox]:checked").click();
            $.cookie("j_" + subject + "_q_pnos_" + chxtp, "");
        }
        //地区
        function _setLBS(code, text) {
            QSearch.setParam('', 'lbs', code);
        }

        function _loadListChx() {
            var p = QSearch.getParamArry(), url = '/physics/ques/partialques?f=' + f;
            if (p.length > 0) {
                url += "&" + p.join("&");
            }
            url += '&pi=' + pi;
            url += '&r=' + Math.random();

            var nodes = [];
            $(".divCategory").find("input[type=checkbox]:checked").each(function () {
                nodes.push($(this).next("a").attr("pk"));
            });

            var divList = $("#pageArea").empty().loading("CT").load(url, {
                pts: JSON.stringify(nodes)
            }, function () {
                divList.loaded();
                try { renderLatex(this); } catch (e) { }
                $.cookie("j_" + subject + "_q_pnos_" + chxtp, nodes.join(','));
            });
        }
        function similarQues(el, subject, quesID, tp) {
            viewSimilar(el, subject, quesID, tp, $("#pageArea"));
        }

        function goPage(i) {
            pi = i;
            if (chx == "1") {
                _loadListChx();
            } else {
                QSearch.loadList(pi);
            }
        }

        function newQuesRightTip(rtp) {
            _czc.push(['_trackEvent', '新题速递', '展开点击', '', '', 'aNewQues']);

            if (rtp == "1") openLoginUI();
            else showVipRightTip();
        }

        function goPaperSearch(el, s) {
            _czc.push(['_trackEvent', '章节挑题', '同步练习卷点击', '', '', 'aPaperSearch']);

            el = $(el);
            var url = "/" + s + "/paper/search?q=" + QSearch.param[0].val + "&lbs=" + QSearch.param[3].val;
            el.attr("href", url).attr("target", "_blank");
            return true;
        }

        function multiChxClick(tp) {
            //if (tp == -1) {
            //    _czc.push(['_trackEvent', '知识点挑题', '多选点击', '匿名用户', '', 'liMultiChx']);
            //    openLoginUI();
            //} else if (tp == 1) {
            //    _czc.push(['_trackEvent', '知识点挑题', '多选点击', '校园号用户', '', 'liMultiChx']);
            //    QSearch.setParam(this, 'chx', '1');
            //} else if (tp == 2) {
            //    _czc.push(['_trackEvent', '知识点挑题', '多选点击', 'VIP用户', '', 'liMultiChx']);
            //    QSearch.setParam(this, 'chx', '1');
            //} else {
            //    _czc.push(['_trackEvent', '知识点挑题', '多选点击', '普通用户', '', 'liMultiChx']);
            //    showVipRightTip();
            //}

            addCzcByRole(tp, '知识点挑题', '多选点击', 'liMultiChx');

            if (tp == -1) { openLoginUI(); }
            else if (tp == 1 || tp == 2) { QSearch.setParam(this, 'chx', '1'); }
            else { showVipRightTip(); }
        }

        function synPaperSearch(el, tp) {
            addCzcByRole(tp, '同步卷', '点击', 'synPaperTab');

            el = $(el);
            var url = "/physics/paper/search?q=" + QSearch.param[0].val + "&lbs=" + QSearch.param[3].val;
            el.attr("href", url);
            return true;
        }

        function openPointVideo(el, tp) {
            addCzcByRole(tp, '考点微视频', '点击', 'ptVideoQSearch');

            if (tp == -1) { openLoginUI(); return false; }
            else if (tp == 1 || tp == 2) return true;
            else { showVipRightTip(); return false; }
        }

        function _openPointCard(el, s, no, tp) {
            addCzcByRole(tp, '考点卡片', '点击', 'ptCardQSearch');

            if (tp == -1) { openLoginUI(); return false; }
            else if (tp == 1 || tp == 2) {
                openPointCard(s, no); return true;
            }
            else { showVipRightTip(); return false; }
        }
    </script>

    <script type="text/javascript">
        var QSearch = {
            f: '',
            subject: '',
            holder: '',
            param: [],

            init: function (f, sub, holder, obj) {
                this.f = f;
                this.subject = sub;
                this.holder = holder;
                this.param = obj;
            },
            setParam: function (el, nm0, val0, nm1, val1) {
                var that = this;
                param = that.param;
                el = $(el);
                for (var i = 0; i < param.length; i++) {
                    if (param[i].nm == nm0) {
                        param[i].val = val0;
                    }
                    if (nm1) {
                        if (param[i].nm == nm1) {
                            param[i].val = val1;
                        }
                    }
                }

                if (nm0 == "ct" || nm0 == "dg" || nm0 == "fg" || nm0 == "yr" || nm0 == "so" || nm0 == "so2" || nm0 == "po") {
                    var ul = el.closest("ul");
                    ul.find("a").removeClass("cur");
                    el.addClass("cur");
                    if (nm0 == "po") {
                        if (val1 >= 1) {
                            el.find("i").removeClass("i-down,i-up").addClass("i-down");
                        } else {
                            el.find("i").removeClass("i-down,i-up").addClass("i-up");
                        }
                    }
                }
                //小学奥数赛事
                if (nm0 == "so") {
                    param[8].val = "0";
                    $("tr[so]").each(function () {
                        if ($(this).attr("so") == val0) {
                            $(this).show().find("a").removeClass("cur").first().addClass("cur");
                        }
                        else {
                            $(this).hide();
                        }
                    });
                }
                that.loadPage();

            },
            getParamArry: function () {
                var that = this;
                param = that.param;
                var p = [];
                for (var i = 0; i < param.length; i++) {
                    if (param[i].nm != "lbs" && param[i].nm != "pd" && (param[i].val == "" || param[i].val == "0")) {
                        continue;
                    }
                    p.push(param[i].nm + "=" + encodeURIComponent(param[i].val));
                }
                return p;
            },
            loadPage: function () {
                var that = this;
                var p = that.getParamArry(), url = "/" + that.subject + "/ques/search?f=" + f;

                if (p.length > 0) {
                    url += "&" + p.join("&");
                }
                location.href = url;
            },
            loadList: function (pi) {
                var that = this;
                var p = that.getParamArry(), url = '/' + that.subject + '/ques/partialques?f=' + f;
                if (p.length > 0) {
                    url += "&" + p.join("&");
                }
                url += '&pi=' + pi;
                url += '&r=' + Math.random();
                $(that.holder).empty().loading("CT").load(url, function () {
                    $(this).loaded();
                    changeFlag = 0;
                    try { renderLatex(this); } catch (e) { }
                    if (pi > 1) $(window).scrollTop(420);
                });
            }
        };
    </script>

    <script type="text/javascript">
        $(function () {
            var divTree = $("#divTree"), nav = $("#divNav"), right = $("#divRight"), leftToggle = $("#leftToggle");
            var rightTop = right.offset().top, navTop = nav.offset().top, treeTop = divTree.offset().top, toggleTop = leftToggle.offset().top;

            var tree = divTree.find(".tree");

            var treeW = divTree.outerWidth();
            var leftW = leftToggle.outerWidth();

            var treeMax = $(window).height() - nav.height();
            divTree.css({ "max-height": treeMax });
            tree.css({ "max-height": treeMax - 82 });
            window.onresize = resize;
            function resize() {
                treeMax = $(window).height() - nav.height();
                divTree.css({ "max-height": treeMax });
                tree.css({ "max-height": treeMax - 82 });
            }
            $(window).scroll(function () {
                if (divTree.height() < treeMax && right.height() < 650) {
                    $(".content").css({ "min-height": $(window).height() });
                }
                var s = $(document).scrollTop();
                if (s > navTop) {
                    if (!nav.hasClass('nav-box-show')) {
                        nav.addClass('nav-box-show');
                    }
                }
                else {
                    nav.removeClass('nav-box-show');
                }

                if (s > rightTop) {

                    if (!right.hasClass('right-box-show')) {
                        right.addClass('right-box-show');
                        if ($(window).width() < 1200) {
                            right.css({ "left": "auto", "right": 0 });
                        } else {
                            var rightLeft = ($(window).width() - 1200) / 2 + 1160;
                            right.css("left", rightLeft);
                        }
                    }
                }
                else {
                    right.removeClass('right-box-show');
                    right.css("left", 0);
                }

                if (s > treeTop) {
                    if (!divTree.hasClass('tree-box-show')) {
                        divTree.addClass('tree-box-show');
                        var treeLeft = ($(window).width() - 1200) / 2;
                        divTree.css({ "left": treeLeft, "top": nav.height() + 5 });
                    }
                    if ($(window).width() < 1200) {
                        if (!leftToggle.hasClass('toggle-show')) {
                            leftToggle.addClass('toggle-show');
                            leftToggle.css({ "left": 0, "top": nav.height() + 5 });
                        }
                    }
                }
                else {
                    divTree.removeClass('tree-box-show').css({ "left": 0, "top": 0 });

                    if ($(window).width() < 1200) {
                        leftToggle.hide();
                        divTree.show().css("width", treeW);
                    }
                }

                if ($(window).width() < 1200) {
                    divTree.css({ "left": 0 });
                }


                /*判断滚动条到达底部时*/
                if ($(document).scrollTop() >= $(document).height() - $(window).height() - 90) {
                    var max = $(window).height() - nav.height() - 100;
                    divTree.css("max-height", max);
                    tree.css({ "overflow-y": "scroll", "max-height": max - 82 });
                }

                if (tree.find("ul").height() > tree.height) {
                    tree.css("overflow-y", "scroll");
                } else {
                    tree.css("overflow-y", "");
                }
            });

            /*屏幕低于1200*/
            if ($(window).width() < 1200) {
                $(".btn-toggle").show();
                $(".btn-toggle").each(function () {
                    var s = $(document).scrollTop();

                    $(this).click(function () {
                        var pos = divTree.css("position");
                        var posT = divTree.css("top");

                        if (leftToggle.is(":hidden")) {
                            leftToggle.show().css({ "width": 0, "position": pos, "top": posT }).stop().animate({ "width": leftW }, 1000);
                            divTree.stop().animate({
                                "width": 0
                            }, 1000, function () {
                                divTree.hide();
                            });

                        } else {
                            leftToggle.stop().animate({
                                "width": 0
                            }, 1000, function () {
                                leftToggle.hide();
                            });
                            divTree.show().css("width", 0).stop().animate({ "width": treeW }, 1000);
                        }
                    });
                });
            }
        });
    </script>


</body>

</html>